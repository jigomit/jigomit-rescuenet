import{d as D,l as p,x as $,r as f,c,a as t,f as g,w as u,u as m,R as x,t as l,n as v,F as _,g as b,p as A,v as F,h,j as B,i as N,k as i}from"./index-B-c7NkCW.js";import{a as S,c as V}from"./campaigns-BorpNg68.js";const j={key:0},I={class:"relative h-64 overflow-hidden sm:h-80"},L=["src","alt"],R={class:"absolute inset-0 flex items-end"},U={class:"mx-auto w-full max-w-7xl px-4 pb-8 sm:px-6 lg:px-8"},z={class:"mb-4 flex items-center gap-2 text-sm text-white/70"},E={class:"text-white"},M={class:"text-2xl font-bold text-white sm:text-3xl lg:text-4xl"},T={class:"py-8 sm:py-12"},O={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},q={class:"grid gap-8 lg:grid-cols-3"},G={class:"lg:col-span-2"},H={class:"rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},J={class:"text-lg text-surface-600"},K={class:"mt-8 border-t border-surface-200 pt-6"},P={class:"h-4 overflow-hidden rounded-full bg-surface-200"},Q={class:"mt-4 grid grid-cols-3 gap-2 sm:gap-4 text-center"},W={class:"text-base sm:text-2xl font-bold text-surface-900"},X={class:"text-base sm:text-2xl font-bold text-surface-900"},Y={class:"text-base sm:text-2xl font-bold text-surface-900"},Z={class:"sticky top-24 rounded-2xl border border-surface-200 bg-white p-6"},tt={class:"mt-6 grid grid-cols-3 gap-2"},st=["onClick"],et={class:"mt-4"},ot={class:"relative mt-1"},lt={class:"mt-6 w-full rounded-xl bg-accent-600 py-4 text-lg font-semibold text-white hover:bg-accent-700"},at={class:"mt-12"},nt={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},rt={class:"h-40 overflow-hidden"},it=["src","alt"],dt={class:"p-4"},ct={class:"font-semibold text-surface-900 group-hover:text-primary-600"},ut={class:"mt-2 h-2 overflow-hidden rounded-full bg-surface-200"},mt={class:"mt-1 text-sm text-surface-500"},xt={key:1,class:"flex min-h-[60vh] items-center justify-center"},pt={class:"text-center"},bt=D({__name:"CampaignDetail",setup(ft){const w=$(),o=p(()=>S(parseInt(w.params.id))),y=p(()=>V.filter(a=>{var s;return a.id!==((s=o.value)==null?void 0:s.id)}).slice(0,3)),n=f(50),r=f(""),k=[25,50,100,250,500,1e3],C=a=>{n.value=a,r.value=""},d=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(a);return(a,s)=>o.value?(i(),c("div",j,[t("section",I,[t("img",{src:o.value.image_url,alt:o.value.title,class:"h-full w-full object-cover"},null,8,L),s[4]||(s[4]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),t("div",R,[t("div",U,[t("nav",z,[g(m(x),{to:"/campaigns",class:"hover:text-white"},{default:u(()=>[...s[2]||(s[2]=[h("Campaigns",-1)])]),_:1}),s[3]||(s[3]=t("span",null,"/",-1)),t("span",E,l(o.value.title),1)]),t("h1",M,l(o.value.title),1)])])]),t("div",T,[t("div",O,[t("div",q,[t("div",G,[t("div",H,[t("p",J,l(o.value.description),1),t("div",K,[t("div",P,[t("div",{class:"h-full rounded-full bg-accent-600",style:v({width:`${o.value.progress_percentage}%`})},null,4)]),t("div",Q,[t("div",null,[t("p",W,l(d(o.value.current_amount)),1),s[5]||(s[5]=t("p",{class:"text-xs sm:text-sm text-surface-500"},"raised",-1))]),t("div",null,[t("p",X,l(o.value.donor_count.toLocaleString()),1),s[6]||(s[6]=t("p",{class:"text-xs sm:text-sm text-surface-500"},"donors",-1))]),t("div",null,[t("p",Y,l(d(o.value.goal_amount)),1),s[7]||(s[7]=t("p",{class:"text-xs sm:text-sm text-surface-500"},"goal",-1))])])])])]),t("div",null,[t("div",Z,[s[10]||(s[10]=t("h2",{class:"text-lg font-semibold text-surface-900"},"Make a Donation",-1)),s[11]||(s[11]=t("p",{class:"mt-1 text-sm text-surface-500"},"Choose an amount to donate",-1)),t("div",tt,[(i(),c(_,null,b(k,e=>t("button",{key:e,class:B(["rounded-lg border-2 px-4 py-3 text-center font-semibold transition-all",n.value===e?"border-accent-500 bg-accent-50 text-accent-700":"border-surface-200 text-surface-700 hover:border-surface-300"]),onClick:gt=>C(e)}," $"+l(e),11,st)),64))]),t("div",et,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium text-surface-700"},"Custom Amount",-1)),t("div",ot,[s[8]||(s[8]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-surface-500"},"$",-1)),A(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),type:"number",min:"1",placeholder:"Enter amount",class:"w-full rounded-lg border-2 border-surface-200 py-3 pl-8 pr-4",onFocus:s[1]||(s[1]=e=>n.value=null)},null,544),[[F,r.value]])])]),t("button",lt," Donate "+l(n.value?d(n.value):r.value?d(parseInt(r.value)):""),1),s[12]||(s[12]=t("p",{class:"mt-4 text-center text-xs text-surface-500"}," 100% of your donation goes directly to disaster relief ",-1))])])]),t("div",at,[s[13]||(s[13]=t("h2",{class:"mb-6 text-2xl font-bold text-surface-900"},"Other Campaigns",-1)),t("div",nt,[(i(!0),c(_,null,b(y.value,e=>(i(),N(m(x),{key:e.id,to:`/campaigns/${e.id}`,class:"group overflow-hidden rounded-xl border border-surface-200 bg-white"},{default:u(()=>[t("div",rt,[t("img",{src:e.image_url,alt:e.title,class:"h-full w-full object-cover transition-transform group-hover:scale-105"},null,8,it)]),t("div",dt,[t("h3",ct,l(e.title),1),t("div",ut,[t("div",{class:"h-full bg-accent-600",style:v({width:`${e.progress_percentage}%`})},null,4)]),t("p",mt,l(e.progress_percentage)+"% funded",1)])]),_:2},1032,["to"]))),128))])])])])])):(i(),c("div",xt,[t("div",pt,[s[15]||(s[15]=t("h1",{class:"text-4xl font-bold text-surface-900"},"Campaign Not Found",-1)),g(m(x),{to:"/campaigns",class:"mt-8 inline-block rounded-lg bg-primary-600 px-6 py-3 font-semibold text-white"},{default:u(()=>[...s[14]||(s[14]=[h(" View All Campaigns ",-1)])]),_:1})])]))}});export{bt as default};
