import{d as k,l as x,x as D,c,a as t,f as u,w as r,u as n,R as d,t as o,j as N,b as S,F as _,g as v,h as m,i as b,n as C,k as i}from"./index-Co3zWsHV.js";import{g as j,d as F}from"./disasters-BcLQjFBr.js";import{c as V}from"./campaigns-D8OezMOZ.js";const B={key:0},I={class:"relative h-64 overflow-hidden sm:h-80 lg:h-96"},L=["src","alt"],U={class:"absolute inset-0 flex items-end"},A={class:"mx-auto w-full max-w-7xl px-4 pb-8 sm:px-6 lg:px-8"},R={class:"mb-4 flex items-center gap-2 text-sm text-white/70"},T={class:"text-white"},$={class:"flex flex-wrap items-end justify-between gap-4"},z={class:"flex items-center gap-4"},E={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 text-2xl backdrop-blur-sm sm:h-16 sm:w-16 sm:text-3xl"},H={class:"text-sm font-medium uppercase tracking-wider text-white/70"},O={class:"text-2xl font-bold text-white sm:text-3xl lg:text-4xl"},P={class:"py-8 sm:py-12"},Y={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},q={class:"grid gap-8 lg:grid-cols-3"},G={class:"lg:col-span-2"},J={class:"rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},K={class:"mt-4 leading-relaxed text-surface-600"},M={class:"mt-8 grid grid-cols-2 gap-4 border-t border-surface-200 pt-6 sm:grid-cols-4"},Q={class:"font-semibold text-surface-900"},W={class:"font-semibold text-surface-900"},X={class:"font-semibold text-surface-900"},Z={class:"font-semibold text-surface-900"},tt={key:0,class:"mt-8 rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},et={class:"mt-6 space-y-4"},st={class:"font-semibold text-surface-900"},ot={class:"mt-3 h-2 overflow-hidden rounded-full bg-surface-200"},lt={class:"mt-2 flex justify-between text-sm"},at={class:"font-semibold text-accent-600"},it={class:"text-surface-500"},rt={class:"space-y-6"},nt={class:"rounded-2xl border border-surface-200 bg-white p-6"},dt={class:"mt-4 space-y-3"},ct={class:"rounded-2xl border border-surface-200 bg-white p-6"},ut={class:"mt-4 space-y-3"},mt={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-surface-100 text-lg"},ft={class:"flex-1"},xt={class:"font-medium text-surface-900"},pt={class:"text-sm text-surface-500"},_t={key:1,class:"flex min-h-[60vh] items-center justify-center"},vt={class:"text-center"},wt=k({__name:"DisasterDetail",setup(bt){const g=D(),s=x(()=>j(parseInt(g.params.id))),p=x(()=>V.filter(a=>{var e;return a.disaster_id===((e=s.value)==null?void 0:e.id)})),h=x(()=>F.filter(a=>{var e;return a.id!==((e=s.value)==null?void 0:e.id)}).slice(0,3)),f=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),y=a=>new Intl.NumberFormat("en-US").format(a),w=a=>new Date(a).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return(a,e)=>s.value?(i(),c("div",B,[t("section",I,[t("img",{src:s.value.image_url,alt:s.value.title,class:"h-full w-full object-cover"},null,8,L),e[2]||(e[2]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),t("div",U,[t("div",A,[t("nav",R,[u(n(d),{to:"/disasters",class:"hover:text-white"},{default:r(()=>[...e[0]||(e[0]=[m("Disasters",-1)])]),_:1}),e[1]||(e[1]=t("span",null,"/",-1)),t("span",T,o(s.value.title),1)]),t("div",$,[t("div",z,[t("div",E,o(s.value.disaster_type.icon),1),t("div",null,[t("span",H,o(s.value.disaster_type.name),1),t("h1",O,o(s.value.title),1)])]),t("span",{class:N(["rounded-full px-4 py-2 text-sm font-semibold uppercase",{"bg-red-500 text-white":s.value.severity==="critical","bg-orange-500 text-white":s.value.severity==="high","bg-yellow-500 text-black":s.value.severity==="moderate","bg-green-500 text-white":s.value.severity==="low"}])},o(s.value.severity),3)])])])]),t("div",P,[t("div",Y,[t("div",q,[t("div",G,[t("div",J,[e[7]||(e[7]=t("h2",{class:"text-xl font-semibold text-surface-900"},"About This Disaster",-1)),t("p",K,o(s.value.description),1),t("div",M,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-sm text-surface-500"},"Location",-1)),t("p",Q,o(s.value.location_name),1)]),t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm text-surface-500"},"Started",-1)),t("p",W,o(w(s.value.started_at)),1)]),t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm text-surface-500"},"People Affected",-1)),t("p",X,o(y(s.value.estimated_affected_people)),1)]),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm text-surface-500"},"Est. Damage",-1)),t("p",Z,o(f(s.value.estimated_damage_usd)),1)])])]),p.value.length>0?(i(),c("div",tt,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold text-surface-900"},"Support Campaigns",-1)),t("div",et,[(i(!0),c(_,null,v(p.value,l=>(i(),b(n(d),{key:l.id,to:`/campaigns/${l.id}`,class:"block rounded-xl border border-surface-200 p-4 transition-all hover:border-primary-500 hover:shadow-md"},{default:r(()=>[t("h3",st,o(l.title),1),t("div",ot,[t("div",{class:"h-full rounded-full bg-accent-600",style:C({width:`${l.progress_percentage}%`})},null,4)]),t("div",lt,[t("span",at,o(f(l.current_amount)),1),t("span",it,"of "+o(f(l.goal_amount)),1)])]),_:2},1032,["to"]))),128))])])):S("",!0)]),t("div",rt,[t("div",nt,[e[11]||(e[11]=t("h3",{class:"font-semibold text-surface-900"},"How You Can Help",-1)),t("div",dt,[u(n(d),{to:"/donate",class:"block w-full rounded-lg bg-accent-600 py-3 text-center font-semibold text-white hover:bg-accent-700"},{default:r(()=>[...e[9]||(e[9]=[m(" Donate Now ",-1)])]),_:1}),u(n(d),{to:"/volunteer",class:"block w-full rounded-lg bg-primary-600 py-3 text-center font-semibold text-white hover:bg-primary-700"},{default:r(()=>[...e[10]||(e[10]=[m(" Volunteer ",-1)])]),_:1})])]),t("div",ct,[e[12]||(e[12]=t("h3",{class:"font-semibold text-surface-900"},"Other Disasters",-1)),t("div",ut,[(i(!0),c(_,null,v(h.value,l=>(i(),b(n(d),{key:l.id,to:`/disasters/${l.id}`,class:"flex items-center gap-3 rounded-lg p-2 transition-colors hover:bg-surface-50"},{default:r(()=>[t("span",mt,o(l.disaster_type.icon),1),t("div",ft,[t("p",xt,o(l.title),1),t("p",pt,o(l.location_name),1)])]),_:2},1032,["to"]))),128))])])])])])])])):(i(),c("div",_t,[t("div",vt,[e[14]||(e[14]=t("h1",{class:"text-4xl font-bold text-surface-900"},"Disaster Not Found",-1)),e[15]||(e[15]=t("p",{class:"mt-4 text-surface-600"},"The disaster you're looking for doesn't exist.",-1)),u(n(d),{to:"/disasters",class:"mt-8 inline-block rounded-lg bg-primary-600 px-6 py-3 font-semibold text-white hover:bg-primary-700"},{default:r(()=>[...e[13]||(e[13]=[m(" View All Disasters ",-1)])]),_:1})])]))}});export{wt as default};
