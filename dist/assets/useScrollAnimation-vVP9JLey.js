import{r as e,A as t,L as a}from"./vue-core-DKOI7Fr9.js";function r(){const r=e(new Set);let n=null;const o=()=>{n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),e.target.classList.remove("animate-out"))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"})},s=e=>{e&&n&&(e.classList.add("animate-out"),n.observe(e),r.value.add(e))};return t(()=>{"requestIdleCallback"in window?requestIdleCallback(()=>o(),{timeout:100}):setTimeout(()=>o(),0)}),a(()=>{n&&(r.value.forEach(e=>n?.unobserve(e)),n.disconnect())}),{observe:s,observeAll:e=>{document.querySelectorAll(e).forEach(e=>s(e))}}}function n(t,a=2e3){const r=e(0),n=e(!1);return{currentValue:r,animate:()=>{if(n.value)return;n.value=!0;const e=performance.now(),o=r.value,s=u=>{const l=u-e,i=Math.min(l/a,1),c=1-Math.pow(1-i,3);r.value=Math.floor(o+(t-o)*c),i<1?requestAnimationFrame(s):(r.value=t,n.value=!1)};requestAnimationFrame(s)}}}export{n as a,r as u};
