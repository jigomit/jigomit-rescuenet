import{u as e,R as t}from"./vue-router-BjN-uIyg.js";import{g as s,d as a}from"./disasters-Cy4FeMpt.js";import{c as l}from"./campaigns-9v6Mt5cZ.js";import{d as r,c as i,e as o,f as c,j as d,k as n,u,t as m,o as x,C as f,F as p,l as v,x as b,y as g,D as h,q as y}from"./vue-core-CbMBECHq.js";const w={key:0},_={class:"relative h-64 overflow-hidden sm:h-80 lg:h-96"},k=["src","alt"],D={class:"absolute inset-0 flex items-end"},j={class:"mx-auto w-full max-w-7xl px-4 pb-8 sm:px-6 lg:px-8"},S={class:"mb-4 flex items-center gap-2 text-sm text-white/70"},F={class:"text-white"},N={class:"flex flex-wrap items-end justify-between gap-4"},U={class:"flex items-center gap-4"},A={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 text-2xl backdrop-blur-sm sm:h-16 sm:w-16 sm:text-3xl"},C={class:"text-sm font-medium uppercase tracking-wider text-white/70"},I={class:"text-2xl font-bold text-white sm:text-3xl lg:text-4xl"},$={class:"py-8 sm:py-12"},H={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},L={class:"grid gap-8 lg:grid-cols-3"},T={class:"lg:col-span-2"},V={class:"rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},q={class:"mt-4 leading-relaxed text-surface-600"},E={class:"mt-8 grid grid-cols-2 gap-4 border-t border-surface-200 pt-6 sm:grid-cols-4"},O={class:"font-semibold text-surface-900"},P={class:"font-semibold text-surface-900"},R={class:"font-semibold text-surface-900"},Y={class:"font-semibold text-surface-900"},z={key:0,class:"mt-8 rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},B={class:"mt-6 space-y-4"},G={class:"font-semibold text-surface-900"},J={class:"mt-3 h-2 overflow-hidden rounded-full bg-surface-200"},K={class:"mt-2 flex justify-between text-sm"},M={class:"font-semibold text-accent-600"},Q={class:"text-surface-500"},W={class:"space-y-6"},X={class:"rounded-2xl border border-surface-200 bg-white p-6"},Z={class:"mt-4 space-y-3"},ee={class:"rounded-2xl border border-surface-200 bg-white p-6"},te={class:"mt-4 space-y-3"},se={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-surface-100 text-lg"},ae={class:"flex-1"},le={class:"font-medium text-surface-900"},re={class:"text-sm text-surface-500"},ie={key:1,class:"flex min-h-[60vh] items-center justify-center"},oe={class:"text-center"},ce=r({__name:"DisasterDetail",setup(r){const ce=e(),de=i(()=>s(parseInt(ce.params.id))),ne=i(()=>l.filter(e=>e.disaster_id===de.value?.id)),ue=i(()=>a.filter(e=>e.id!==de.value?.id).slice(0,3)),me=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(e,s)=>{return de.value?(y(),o("div",w,[c("section",_,[c("img",{src:de.value.image_url,alt:de.value.title,class:"h-full w-full object-cover"},null,8,k),s[2]||(s[2]=c("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),c("div",D,[c("div",j,[c("nav",S,[d(u(t),{to:"/disasters",class:"hover:text-white"},{default:n(()=>[...s[0]||(s[0]=[b("Disasters",-1)])]),_:1}),s[1]||(s[1]=c("span",null,"/",-1)),c("span",F,m(de.value.title),1)]),c("div",N,[c("div",U,[c("div",A,m(de.value.disaster_type.icon),1),c("div",null,[c("span",C,m(de.value.disaster_type.name),1),c("h1",I,m(de.value.title),1)])]),c("span",{class:x(["rounded-full px-4 py-2 text-sm font-semibold uppercase",{"bg-red-500 text-white":"critical"===de.value.severity,"bg-orange-500 text-white":"high"===de.value.severity,"bg-yellow-500 text-black":"moderate"===de.value.severity,"bg-green-500 text-white":"low"===de.value.severity}])},m(de.value.severity),3)])])])]),c("div",$,[c("div",H,[c("div",L,[c("div",T,[c("div",V,[s[7]||(s[7]=c("h2",{class:"text-xl font-semibold text-surface-900"},"About This Disaster",-1)),c("p",q,m(de.value.description),1),c("div",E,[c("div",null,[s[3]||(s[3]=c("p",{class:"text-sm text-surface-500"},"Location",-1)),c("p",O,m(de.value.location_name),1)]),c("div",null,[s[4]||(s[4]=c("p",{class:"text-sm text-surface-500"},"Started",-1)),c("p",P,m((l=de.value.started_at,new Date(l).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))),1)]),c("div",null,[s[5]||(s[5]=c("p",{class:"text-sm text-surface-500"},"People Affected",-1)),c("p",R,m((a=de.value.estimated_affected_people,new Intl.NumberFormat("en-US").format(a))),1)]),c("div",null,[s[6]||(s[6]=c("p",{class:"text-sm text-surface-500"},"Est. Damage",-1)),c("p",Y,m(me(de.value.estimated_damage_usd)),1)])])]),ne.value.length>0?(y(),o("div",z,[s[8]||(s[8]=c("h2",{class:"text-xl font-semibold text-surface-900"},"Support Campaigns",-1)),c("div",B,[(y(!0),o(p,null,v(ne.value,e=>(y(),g(u(t),{key:e.id,to:`/campaigns/${e.id}`,class:"block rounded-xl border border-surface-200 p-4 transition-all hover:border-primary-500 hover:shadow-md"},{default:n(()=>[c("h3",G,m(e.title),1),c("div",J,[c("div",{class:"h-full rounded-full bg-accent-600",style:h({width:`${e.progress_percentage}%`})},null,4)]),c("div",K,[c("span",M,m(me(e.current_amount)),1),c("span",Q,"of "+m(me(e.goal_amount)),1)])]),_:2},1032,["to"]))),128))])])):f("",!0)]),c("div",W,[c("div",X,[s[11]||(s[11]=c("h3",{class:"font-semibold text-surface-900"},"How You Can Help",-1)),c("div",Z,[d(u(t),{to:"/donate",class:"block w-full rounded-lg bg-accent-600 py-3 text-center font-semibold text-white hover:bg-accent-700"},{default:n(()=>[...s[9]||(s[9]=[b(" Donate Now ",-1)])]),_:1}),d(u(t),{to:"/volunteer",class:"block w-full rounded-lg bg-primary-600 py-3 text-center font-semibold text-white hover:bg-primary-700"},{default:n(()=>[...s[10]||(s[10]=[b(" Volunteer ",-1)])]),_:1})])]),c("div",ee,[s[12]||(s[12]=c("h3",{class:"font-semibold text-surface-900"},"Other Disasters",-1)),c("div",te,[(y(!0),o(p,null,v(ue.value,e=>(y(),g(u(t),{key:e.id,to:`/disasters/${e.id}`,class:"flex items-center gap-3 rounded-lg p-2 transition-colors hover:bg-surface-50"},{default:n(()=>[c("span",se,m(e.disaster_type.icon),1),c("div",ae,[c("p",le,m(e.title),1),c("p",re,m(e.location_name),1)])]),_:2},1032,["to"]))),128))])])])])])])])):(y(),o("div",ie,[c("div",oe,[s[14]||(s[14]=c("h1",{class:"text-4xl font-bold text-surface-900"},"Disaster Not Found",-1)),s[15]||(s[15]=c("p",{class:"mt-4 text-surface-600"},"The disaster you're looking for doesn't exist.",-1)),d(u(t),{to:"/disasters",class:"mt-8 inline-block rounded-lg bg-primary-600 px-6 py-3 font-semibold text-white hover:bg-primary-700"},{default:n(()=>[...s[13]||(s[13]=[b(" View All Disasters ",-1)])]),_:1})])]));var a,l}}});export{ce as default};
