import{d as e,c as t,r as s,e as a,f as l,j as r,k as o,u as c,t as i,D as n,F as u,l as d,g as m,G as x,x as f,o as p,y as g,q as v}from"./vue-core-CABBNr2E.js";import{u as b,R as h}from"./vue-router-Cc5dEoWD.js";import{a as w,c as y}from"./campaigns-9v6Mt5cZ.js";const k={key:0},_={class:"relative h-64 overflow-hidden bg-surface-200 sm:h-80"},C=["src","alt"],j={class:"absolute inset-0 flex items-end"},D={class:"mx-auto w-full max-w-7xl px-4 pb-8 sm:px-6 lg:px-8"},F={class:"mb-4 flex items-center gap-2 text-sm text-white/70"},$={class:"text-white"},q={class:"text-2xl font-bold text-white sm:text-3xl lg:text-4xl"},I={class:"py-8 sm:py-12"},S={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},U={class:"grid gap-8 lg:grid-cols-3"},A={class:"lg:col-span-2"},N={class:"rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},V={class:"text-lg text-surface-600"},z={class:"mt-8 border-t border-surface-200 pt-6"},E={class:"h-4 overflow-hidden rounded-full bg-surface-200"},G={class:"mt-4 grid grid-cols-3 gap-2 sm:gap-4 text-center"},L={class:"text-base sm:text-2xl font-bold text-surface-900"},M={class:"text-base sm:text-2xl font-bold text-surface-900"},O={class:"text-base sm:text-2xl font-bold text-surface-900"},R={class:"sticky top-24 rounded-2xl border border-surface-200 bg-white p-6"},B={class:"mt-6 grid grid-cols-3 gap-2"},H=["onClick"],J={class:"mt-4"},K={class:"relative mt-1"},P={class:"mt-6 w-full rounded-xl bg-accent-600 py-4 text-lg font-semibold text-white hover:bg-accent-700"},Q={class:"mt-12"},T={class:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3"},W={class:"h-40 overflow-hidden bg-surface-200"},X=["src","alt"],Y={class:"p-4"},Z={class:"font-semibold text-surface-900 group-hover:text-primary-600"},ee={class:"mt-2 h-2 overflow-hidden rounded-full bg-surface-200"},te={class:"mt-1 text-sm text-surface-500"},se={key:1,class:"flex min-h-[60vh] items-center justify-center"},ae={class:"text-center"},le=e({__name:"CampaignDetail",setup(e){const le=b(),re=t(()=>w(parseInt(le.params.id))),oe=t(()=>y.filter(e=>e.id!==re.value?.id).slice(0,3)),ce=s(50),ie=s(""),ne=[25,50,100,250,500,1e3],ue=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e);return(e,t)=>re.value?(v(),a("div",k,[l("section",_,[l("img",{src:re.value.image_url+"&w=1200&q=70&auto=format&fm=webp&fit=crop",alt:re.value.title,class:"h-full w-full object-cover",width:"1200",height:"320",fetchpriority:"high",decoding:"async"},null,8,C),t[4]||(t[4]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),l("div",j,[l("div",D,[l("nav",F,[r(c(h),{to:"/campaigns",class:"hover:text-white"},{default:o(()=>[...t[2]||(t[2]=[f("Campaigns",-1)])]),_:1}),t[3]||(t[3]=l("span",null,"/",-1)),l("span",$,i(re.value.title),1)]),l("h1",q,i(re.value.title),1)])])]),l("div",I,[l("div",S,[l("div",U,[l("div",A,[l("div",N,[l("p",V,i(re.value.description),1),l("div",z,[l("div",E,[l("div",{class:"h-full rounded-full bg-accent-600",style:n({width:`${re.value.progress_percentage}%`})},null,4)]),l("div",G,[l("div",null,[l("p",L,i(ue(re.value.current_amount)),1),t[5]||(t[5]=l("p",{class:"text-xs sm:text-sm text-surface-500"},"raised",-1))]),l("div",null,[l("p",M,i(re.value.donor_count.toLocaleString()),1),t[6]||(t[6]=l("p",{class:"text-xs sm:text-sm text-surface-500"},"donors",-1))]),l("div",null,[l("p",O,i(ue(re.value.goal_amount)),1),t[7]||(t[7]=l("p",{class:"text-xs sm:text-sm text-surface-500"},"goal",-1))])])])])]),l("div",null,[l("div",R,[t[10]||(t[10]=l("h2",{class:"text-lg font-semibold text-surface-900"},"Make a Donation",-1)),t[11]||(t[11]=l("p",{class:"mt-1 text-sm text-surface-500"},"Choose an amount to donate",-1)),l("div",B,[(v(),a(u,null,d(ne,e=>l("button",{key:e,class:p(["rounded-lg border-2 px-4 py-3 text-center font-semibold transition-all",ce.value===e?"border-accent-500 bg-accent-50 text-accent-700":"border-surface-200 text-surface-700 hover:border-surface-300"]),onClick:t=>(e=>{ce.value=e,ie.value=""})(e)}," $"+i(e),11,H)),64))]),l("div",J,[t[9]||(t[9]=l("label",{class:"block text-sm font-medium text-surface-700"},"Custom Amount",-1)),l("div",K,[t[8]||(t[8]=l("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-surface-500"},"$",-1)),m(l("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>ie.value=e),type:"number",min:"1",placeholder:"Enter amount",class:"w-full rounded-lg border-2 border-surface-200 py-3 pl-8 pr-4",onFocus:t[1]||(t[1]=e=>ce.value=null)},null,544),[[x,ie.value]])])]),l("button",P," Donate "+i(ce.value?ue(ce.value):ie.value?ue(parseInt(ie.value)):""),1),t[12]||(t[12]=l("p",{class:"mt-4 text-center text-xs text-surface-500"}," 100% of your donation goes directly to disaster relief ",-1))])])]),l("div",Q,[t[13]||(t[13]=l("h2",{class:"mb-6 text-2xl font-bold text-surface-900"},"Other Campaigns",-1)),l("div",T,[(v(!0),a(u,null,d(oe.value,e=>(v(),g(c(h),{key:e.id,to:`/campaigns/${e.id}`,class:"group overflow-hidden rounded-xl border border-surface-200 bg-white"},{default:o(()=>[l("div",W,[l("img",{src:e.image_url+"&w=400&q=60&auto=format&fm=webp&fit=crop",alt:e.title,class:"h-full w-full object-cover",width:"400",height:"160",loading:"lazy",decoding:"async"},null,8,X)]),l("div",Y,[l("h3",Z,i(e.title),1),l("div",ee,[l("div",{class:"h-full bg-accent-600",style:n({width:`${e.progress_percentage}%`})},null,4)]),l("p",te,i(e.progress_percentage)+"% funded",1)])]),_:2},1032,["to"]))),128))])])])])])):(v(),a("div",se,[l("div",ae,[t[15]||(t[15]=l("h1",{class:"text-4xl font-bold text-surface-900"},"Campaign Not Found",-1)),r(c(h),{to:"/campaigns",class:"mt-8 inline-block rounded-lg bg-primary-600 px-6 py-3 font-semibold text-white"},{default:o(()=>[...t[14]||(t[14]=[f(" View All Campaigns ",-1)])]),_:1})])]))}});export{le as default};
