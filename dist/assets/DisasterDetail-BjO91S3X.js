import{d as e,A as t,j as s,c as a,a as l,e as r,f as i,u as o,R as c,t as d,n,y as u,F as m,g as f,k as x,l as p,z as v,o as b}from"./vendor-BU5hZlQA.js";import{g,d as h}from"./disasters-DIDuTK0l.js";import{c as y}from"./campaigns-9v6Mt5cZ.js";const w={key:0},_={class:"relative h-64 overflow-hidden sm:h-80 lg:h-96"},k=["src","alt"],D={class:"absolute inset-0 flex items-end"},j={class:"mx-auto w-full max-w-7xl px-4 pb-8 sm:px-6 lg:px-8"},S={class:"mb-4 flex items-center gap-2 text-sm text-white/70"},F={class:"text-white"},A={class:"flex flex-wrap items-end justify-between gap-4"},N={class:"flex items-center gap-4"},U={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/20 text-2xl backdrop-blur-sm sm:h-16 sm:w-16 sm:text-3xl"},I={class:"text-sm font-medium uppercase tracking-wider text-white/70"},$={class:"text-2xl font-bold text-white sm:text-3xl lg:text-4xl"},C={class:"py-8 sm:py-12"},H={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},L={class:"grid gap-8 lg:grid-cols-3"},T={class:"lg:col-span-2"},V={class:"rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},z={class:"mt-4 leading-relaxed text-surface-600"},E={class:"mt-8 grid grid-cols-2 gap-4 border-t border-surface-200 pt-6 sm:grid-cols-4"},O={class:"font-semibold text-surface-900"},P={class:"font-semibold text-surface-900"},R={class:"font-semibold text-surface-900"},Y={class:"font-semibold text-surface-900"},q={key:0,class:"mt-8 rounded-2xl border border-surface-200 bg-white p-6 sm:p-8"},B={class:"mt-6 space-y-4"},G={class:"font-semibold text-surface-900"},J={class:"mt-3 h-2 overflow-hidden rounded-full bg-surface-200"},K={class:"mt-2 flex justify-between text-sm"},M={class:"font-semibold text-accent-600"},Q={class:"text-surface-500"},W={class:"space-y-6"},X={class:"rounded-2xl border border-surface-200 bg-white p-6"},Z={class:"mt-4 space-y-3"},ee={class:"rounded-2xl border border-surface-200 bg-white p-6"},te={class:"mt-4 space-y-3"},se={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-surface-100 text-lg"},ae={class:"flex-1"},le={class:"font-medium text-surface-900"},re={class:"text-sm text-surface-500"},ie={key:1,class:"flex min-h-[60vh] items-center justify-center"},oe={class:"text-center"},ce=e({__name:"DisasterDetail",setup(e){const ce=s(),de=t(()=>g(parseInt(ce.params.id))),ne=t(()=>y.filter(e=>e.disaster_id===de.value?.id)),ue=t(()=>h.filter(e=>e.id!==de.value?.id).slice(0,3)),me=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(e,t)=>{return de.value?(b(),a("div",w,[l("section",_,[l("img",{src:de.value.image_url,alt:de.value.title,class:"h-full w-full object-cover"},null,8,k),t[2]||(t[2]=l("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"},null,-1)),l("div",D,[l("div",j,[l("nav",S,[r(o(c),{to:"/disasters",class:"hover:text-white"},{default:i(()=>[...t[0]||(t[0]=[x("Disasters",-1)])]),_:1}),t[1]||(t[1]=l("span",null,"/",-1)),l("span",F,d(de.value.title),1)]),l("div",A,[l("div",N,[l("div",U,d(de.value.disaster_type.icon),1),l("div",null,[l("span",I,d(de.value.disaster_type.name),1),l("h1",$,d(de.value.title),1)])]),l("span",{class:n(["rounded-full px-4 py-2 text-sm font-semibold uppercase",{"bg-red-500 text-white":"critical"===de.value.severity,"bg-orange-500 text-white":"high"===de.value.severity,"bg-yellow-500 text-black":"moderate"===de.value.severity,"bg-green-500 text-white":"low"===de.value.severity}])},d(de.value.severity),3)])])])]),l("div",C,[l("div",H,[l("div",L,[l("div",T,[l("div",V,[t[7]||(t[7]=l("h2",{class:"text-xl font-semibold text-surface-900"},"About This Disaster",-1)),l("p",z,d(de.value.description),1),l("div",E,[l("div",null,[t[3]||(t[3]=l("p",{class:"text-sm text-surface-500"},"Location",-1)),l("p",O,d(de.value.location_name),1)]),l("div",null,[t[4]||(t[4]=l("p",{class:"text-sm text-surface-500"},"Started",-1)),l("p",P,d((g=de.value.started_at,new Date(g).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}))),1)]),l("div",null,[t[5]||(t[5]=l("p",{class:"text-sm text-surface-500"},"People Affected",-1)),l("p",R,d((s=de.value.estimated_affected_people,new Intl.NumberFormat("en-US").format(s))),1)]),l("div",null,[t[6]||(t[6]=l("p",{class:"text-sm text-surface-500"},"Est. Damage",-1)),l("p",Y,d(me(de.value.estimated_damage_usd)),1)])])]),ne.value.length>0?(b(),a("div",q,[t[8]||(t[8]=l("h2",{class:"text-xl font-semibold text-surface-900"},"Support Campaigns",-1)),l("div",B,[(b(!0),a(m,null,f(ne.value,e=>(b(),p(o(c),{key:e.id,to:`/campaigns/${e.id}`,class:"block rounded-xl border border-surface-200 p-4 transition-all hover:border-primary-500 hover:shadow-md"},{default:i(()=>[l("h3",G,d(e.title),1),l("div",J,[l("div",{class:"h-full rounded-full bg-accent-600",style:v({width:`${e.progress_percentage}%`})},null,4)]),l("div",K,[l("span",M,d(me(e.current_amount)),1),l("span",Q,"of "+d(me(e.goal_amount)),1)])]),_:2},1032,["to"]))),128))])])):u("",!0)]),l("div",W,[l("div",X,[t[11]||(t[11]=l("h3",{class:"font-semibold text-surface-900"},"How You Can Help",-1)),l("div",Z,[r(o(c),{to:"/donate",class:"block w-full rounded-lg bg-accent-600 py-3 text-center font-semibold text-white hover:bg-accent-700"},{default:i(()=>[...t[9]||(t[9]=[x(" Donate Now ",-1)])]),_:1}),r(o(c),{to:"/volunteer",class:"block w-full rounded-lg bg-primary-600 py-3 text-center font-semibold text-white hover:bg-primary-700"},{default:i(()=>[...t[10]||(t[10]=[x(" Volunteer ",-1)])]),_:1})])]),l("div",ee,[t[12]||(t[12]=l("h3",{class:"font-semibold text-surface-900"},"Other Disasters",-1)),l("div",te,[(b(!0),a(m,null,f(ue.value,e=>(b(),p(o(c),{key:e.id,to:`/disasters/${e.id}`,class:"flex items-center gap-3 rounded-lg p-2 transition-colors hover:bg-surface-50"},{default:i(()=>[l("span",se,d(e.disaster_type.icon),1),l("div",ae,[l("p",le,d(e.title),1),l("p",re,d(e.location_name),1)])]),_:2},1032,["to"]))),128))])])])])])])])):(b(),a("div",ie,[l("div",oe,[t[14]||(t[14]=l("h1",{class:"text-4xl font-bold text-surface-900"},"Disaster Not Found",-1)),t[15]||(t[15]=l("p",{class:"mt-4 text-surface-600"},"The disaster you're looking for doesn't exist.",-1)),r(o(c),{to:"/disasters",class:"mt-8 inline-block rounded-lg bg-primary-600 px-6 py-3 font-semibold text-white hover:bg-primary-700"},{default:i(()=>[...t[13]||(t[13]=[x(" View All Disasters ",-1)])]),_:1})])]));var s,g}}});export{ce as default};
